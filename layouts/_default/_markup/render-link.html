{{- $target := "" }}
{{- if strings.HasPrefix .Destination "http" }}
    {{- $target = printf " target=%q " "_blank" | safeHTMLAttr }}
{{- else if strings.HasPrefix .Destination "mailto:" }}
    {{- $target = printf " target=%q " "_blank" | safeHTMLAttr }}
{{- end }}

{{- printf `<a href=%q title=%q%s>%s</a>` (.Destination | safeURL) .Title $target .Text | safeHTML -}}
